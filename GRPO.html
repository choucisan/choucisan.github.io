<!DOCTYPE html><html lang="en,zh-CN"><head><meta charset="UTF-8"><meta name="baidu-site-verification" content="codeva-X99uCprQdB"><link rel="apple-touch-icon" sizes="76x76" href="/img/logo.jpg"><link rel="icon" href="/img/logo.jpg"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="choucisan"><meta name="keywords" content=""><meta name="description" content="å¼•è¨€ï¼š ç¾¤ä½“ç›¸å¯¹ç­–ç•¥ä¼˜åŒ–ï¼ˆGRPOï¼‰æ˜¯ç”± DeepSeek å›¢é˜Ÿæå‡ºçš„ä¸€ç§ä¸“ä¸ºå¤§è¯­è¨€æ¨¡å‹è®¾è®¡çš„é«˜æ•ˆå¼ºåŒ–å­¦ä¹ ç®—æ³•ã€‚ä¼ ç»Ÿçš„ PPO ç®—æ³•è™½ç„¶å¼ºå¤§ï¼Œä½†éœ€è¦ç»´æŠ¤ä¸€ä¸ªä¸ç­–ç•¥æ¨¡å‹åŒç­‰è§„æ¨¡çš„ä»·å€¼ç½‘ç»œï¼ˆCriticï¼‰ï¼Œè¿™å¯¹æ˜¾å­˜å¸¦æ¥äº†å·¨å¤§çš„å‹åŠ›ã€‚GRPO åˆ›é€ æ€§åœ°æ‘’å¼ƒäº† Critic ç½‘ç»œï¼Œè½¬è€Œåˆ©ç”¨ç¾¤ä½“é‡‡æ ·çš„ç»Ÿè®¡ç‰¹å¾æ¥ä¼°è®¡ä¼˜åŠ¿å‡½æ•°ã€‚è¿™ç§æ–¹æ³•ä¸ä»…å¤§å¹…é™ä½äº†è®­ç»ƒæ—¶çš„æ˜¾å­˜å ç”¨å’Œè®¡ç®—æˆæœ¬ï¼Œè¿˜åœ¨æ•°å­¦"><meta property="og:type" content="article"><meta property="og:title" content="GRPOâ€”â€”ç»„ç›¸å¯¹ç­–ç•¥ä¼˜åŒ–ç®—æ³•"><meta property="og:url" content="https://choucisan.xyz/GRPO.html"><meta property="og:site_name" content="choucisan&#39;s blog"><meta property="og:description" content="å¼•è¨€ï¼š ç¾¤ä½“ç›¸å¯¹ç­–ç•¥ä¼˜åŒ–ï¼ˆGRPOï¼‰æ˜¯ç”± DeepSeek å›¢é˜Ÿæå‡ºçš„ä¸€ç§ä¸“ä¸ºå¤§è¯­è¨€æ¨¡å‹è®¾è®¡çš„é«˜æ•ˆå¼ºåŒ–å­¦ä¹ ç®—æ³•ã€‚ä¼ ç»Ÿçš„ PPO ç®—æ³•è™½ç„¶å¼ºå¤§ï¼Œä½†éœ€è¦ç»´æŠ¤ä¸€ä¸ªä¸ç­–ç•¥æ¨¡å‹åŒç­‰è§„æ¨¡çš„ä»·å€¼ç½‘ç»œï¼ˆCriticï¼‰ï¼Œè¿™å¯¹æ˜¾å­˜å¸¦æ¥äº†å·¨å¤§çš„å‹åŠ›ã€‚GRPO åˆ›é€ æ€§åœ°æ‘’å¼ƒäº† Critic ç½‘ç»œï¼Œè½¬è€Œåˆ©ç”¨ç¾¤ä½“é‡‡æ ·çš„ç»Ÿè®¡ç‰¹å¾æ¥ä¼°è®¡ä¼˜åŠ¿å‡½æ•°ã€‚è¿™ç§æ–¹æ³•ä¸ä»…å¤§å¹…é™ä½äº†è®­ç»ƒæ—¶çš„æ˜¾å­˜å ç”¨å’Œè®¡ç®—æˆæœ¬ï¼Œè¿˜åœ¨æ•°å­¦"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://images.unsplash.com/photo-1603467591753-663ce916a757?q=80&w=2072&auto=format&fit=crop"><meta property="article:published_time" content="2025-12-25T09:58:52.000Z"><meta property="article:modified_time" content="2025-12-12T09:27:23.401Z"><meta property="article:author" content="choucisan"><meta property="article:tag" content="Research"><meta property="article:tag" content="Algorithm"><meta property="article:tag" content="GRPO"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://images.unsplash.com/photo-1603467591753-663ce916a757?q=80&w=2072&auto=format&fit=crop"><title>GRPOâ€”â€”ç»„ç›¸å¯¹ç­–ç•¥ä¼˜åŒ–ç®—æ³• - choucisan&#39;s blog</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link rel="stylesheet" href="/css/fullscreen-style.css"><script id="fluid-configs">var dntVal,Fluid=window.Fluid||{},CONFIG=(Fluid.ctx=Object.assign({},Fluid.ctx),{hostname:"choucisan.xyz",root:"/",version:"1.9.8",typing:{enable:!1,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!1,baidu:null,google:{measurement_id:null},tencent:{sid:null,cid:null},leancloud:{app_id:"VnqS06x2hxlj7MEjoUAix6L5-gzGzoHsz",app_key:"ck0fCo8cxJs0OdTEdWmSl9l1",server_url:"https://vnqs06x2.lc-cn-n1-shared.com",path:"window.location.pathname",ignore_local:!1},umami:{src:null,website_id:null,domains:null,start_time:"2025-01-01T00:00:00.000Z",token:null,api_server:null}},search_path:"/local-search.xml",include_content_in_search:!0});CONFIG.web_analytics.follow_dnt&&(dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on")))</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"><meta name="generator" content="Hexo 7.3.0"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>13log</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/" target="_self"><span>HOME</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/" target="_self"><span>ARCHIVES</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>TOPICS</span></a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/categories/Pub/" target="_self"><span>Publications</span> </a><a class="dropdown-item" href="/categories/OpenSource/" target="_self"><span>Open Source</span> </a><a class="dropdown-item" href="/categories/Paper/" target="_self"><span>Paper Reading</span> </a><a class="dropdown-item" href="/categories/Tech/" target="_self"><span>Tech Share</span> </a><a class="dropdown-item" href="/categories/Life/" target="_self"><span>Life Share</span></a></div></li><li class="nav-item"><a class="nav-link" href="/about/" target="_self"><span>ABOUT</span></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle">GRPOâ€”â€”ç»„ç›¸å¯¹ç­–ç•¥ä¼˜åŒ–ç®—æ³•</span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2025-12-25 17:58" pubdate>December 25, 2025 pm</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 2.9k words </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 25 mins </span><span id="leancloud-page-views-container" class="post-meta" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="leancloud-page-views"></span> views</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">GRPOâ€”â€”ç»„ç›¸å¯¹ç­–ç•¥ä¼˜åŒ–ç®—æ³•</h1><div class="markdown-body"><div class="note note-info"><p><strong>å¼•è¨€ï¼š</strong> ç¾¤ä½“ç›¸å¯¹ç­–ç•¥ä¼˜åŒ–ï¼ˆGRPOï¼‰æ˜¯ç”± DeepSeek å›¢é˜Ÿæå‡ºçš„ä¸€ç§ä¸“ä¸ºå¤§è¯­è¨€æ¨¡å‹è®¾è®¡çš„é«˜æ•ˆå¼ºåŒ–å­¦ä¹ ç®—æ³•ã€‚ä¼ ç»Ÿçš„ PPO ç®—æ³•è™½ç„¶å¼ºå¤§ï¼Œä½†éœ€è¦ç»´æŠ¤ä¸€ä¸ªä¸ç­–ç•¥æ¨¡å‹åŒç­‰è§„æ¨¡çš„ä»·å€¼ç½‘ç»œï¼ˆCriticï¼‰ï¼Œè¿™å¯¹æ˜¾å­˜å¸¦æ¥äº†å·¨å¤§çš„å‹åŠ›ã€‚GRPO åˆ›é€ æ€§åœ°æ‘’å¼ƒäº† Critic ç½‘ç»œï¼Œè½¬è€Œåˆ©ç”¨ç¾¤ä½“é‡‡æ ·çš„ç»Ÿè®¡ç‰¹å¾æ¥ä¼°è®¡ä¼˜åŠ¿å‡½æ•°ã€‚è¿™ç§æ–¹æ³•ä¸ä»…å¤§å¹…é™ä½äº†è®­ç»ƒæ—¶çš„æ˜¾å­˜å ç”¨å’Œè®¡ç®—æˆæœ¬ï¼Œè¿˜åœ¨æ•°å­¦æ¨ç†å’Œä»£ç ç”Ÿæˆç­‰ä»»åŠ¡ä¸Šè¡¨ç°å‡ºäº†å“è¶Šçš„æ€§èƒ½ï¼Œæ˜¯ DeepSeek-R1 ç­‰å‰æ²¿æ¨¡å‹èƒŒåçš„æ ¸å¿ƒè®­ç»ƒæŠ€æœ¯ã€‚</p></div><h2 id="grpoç®—æ³•ä»‹ç»">âœˆï¸ GRPOç®—æ³•ä»‹ç»</h2><h3 id="ç®—æ³•å½’ç±»">ç®—æ³•å½’ç±»</h3><p>GRPO åœ¨å¼ºåŒ–å­¦ä¹ çš„ç‰ˆå›¾ä¸­å±äºä¸€ç§<strong>è½»é‡çº§çš„åœ¨çº¿ç­–ç•¥ä¼˜åŒ–ç®—æ³•</strong>ï¼š</p><ul><li><strong>åŸºäºç­–ç•¥ (Policy-Based)</strong>ï¼šç›´æ¥ä¼˜åŒ– Actor ç½‘ç»œçš„å‚æ•°ã€‚</li><li><strong>åœ¨çº¿ç­–ç•¥ (On-Policy)</strong>ï¼šé€šå¸¸åœ¨ Online RL é˜¶æ®µä½¿ç”¨ï¼Œæ¨¡å‹è¾¹ç”Ÿæˆæ•°æ®è¾¹å­¦ä¹ ï¼ˆè¿™ä¸€ç‚¹ä¸ DPO çš„ç¦»çº¿æ€§è´¨ä¸åŒï¼‰ã€‚</li><li><strong>æ— Criticæ¨¡å‹ (Critic-Less)</strong>ï¼šè¿™æ˜¯ GRPO æœ€æ˜¾è‘—çš„æ ‡ç­¾ã€‚å®ƒç§»é™¤äº† PPO ä¸­çš„ Critic ç½‘ç»œï¼ˆä»·å€¼æ¨¡å‹ï¼‰ï¼Œä»…ä¿ç•™ Actor æ¨¡å‹ã€‚</li><li><strong>åŸºäºç¾¤ä½“ (Group-Based)</strong>ï¼šåˆ©ç”¨åŒä¸€ä¸ªé—®é¢˜ç”Ÿæˆçš„å¤šä¸ªæ ·æœ¬ï¼ˆGroupï¼‰ä¹‹é—´çš„ç›¸å¯¹å¥½åæ¥è®¡ç®—æ¢¯åº¦ã€‚</li></ul><h3 id="é€‚ç”¨èŒƒå›´ä¸å±€é™">é€‚ç”¨èŒƒå›´ä¸å±€é™</h3><ul><li><strong>é€‚ç”¨èŒƒå›´</strong>ï¼š<ul><li><strong>è¶…å¤§æ¨¡å‹è®­ç»ƒ</strong>ï¼šéå¸¸é€‚åˆ 70B ç”šè‡³ 600B å‚æ•°é‡çš„å·¨å‹æ¨¡å‹ï¼Œå› ä¸ºå®ƒèŠ‚çœäº†æ¥è¿‘ 50% çš„æ˜¾å­˜ï¼ˆä¸éœ€è¦åŠ è½½ Criticï¼‰ã€‚</li><li><strong>æ¨ç†ä»»åŠ¡ (Reasoning)</strong>ï¼šç‰¹åˆ«é€‚ç”¨äºæœ‰æ˜ç¡®ç­”æ¡ˆæˆ–è¯„åˆ†æ ‡å‡†çš„ä»»åŠ¡ï¼ˆå¦‚æ•°å­¦é¢˜ã€ä»£ç ç”Ÿæˆï¼‰ï¼Œæ¨¡å‹å¯ä»¥é€šè¿‡å¤šæ¬¡å°è¯•è‡ªæˆ‘çº é”™ã€‚</li></ul></li><li><strong>å±€é™æ€§</strong>ï¼š<ul><li><strong>é‡‡æ ·å¼€é”€</strong>ï¼šå¯¹äºæ¯ä¸€ä¸ª Promptï¼ŒGRPO éœ€è¦ç”Ÿæˆä¸€ç»„ï¼ˆä¾‹å¦‚ <span class="math inline"><em>G</em>â€„=â€„64</span>ï¼‰è¾“å‡ºã€‚å¦‚æœæ¨ç†é€Ÿåº¦æ…¢ï¼Œé‡‡æ ·è¿‡ç¨‹ä¼šæˆä¸ºæ—¶é—´ç“¶é¢ˆã€‚</li><li><strong>ä¾èµ–è¯„åˆ†å™¨</strong>ï¼šéœ€è¦ä¸€ä¸ªå¯é çš„ Reward å‡½æ•°ï¼ˆè§„åˆ™åˆ¤æ–­æˆ–å¤–éƒ¨æ¨¡å‹ï¼‰æ¥ç»™è¿™ä¸€ç»„è¾“å‡ºæ‰“åˆ†ã€‚</li></ul></li></ul><h3 id="åŸºæœ¬æ€æƒ³">åŸºæœ¬æ€æƒ³</h3><p>GRPOçš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡ç»„å†…ç›¸å¯¹å¥–åŠ±æ¥ä¼˜åŒ–ç­–ç•¥æ¨¡å‹ï¼Œè€Œä¸æ˜¯ä¾èµ–ä¼ ç»Ÿçš„æ‰¹è¯„æ¨¡å‹ï¼ˆcritic modelï¼‰ã€‚</p><ul><li><strong>PPO çš„é€»è¾‘</strong>ï¼šActor åšäº†ä¸€ä¸ªåŠ¨ä½œï¼ŒCriticï¼ˆè€å¸ˆï¼‰ç»™å‡ºä¸€ä¸ªç»å¯¹åˆ†æ•°çš„ä¼°è®¡ <span class="math inline"><em>V</em>(<em>s</em>)</span>ï¼Œé€šè¿‡å¯¹æ¯”å®é™…å¾—åˆ†å’Œä¼°è®¡å¾—åˆ†æ¥è®¡ç®—ä¼˜åŠ¿ <span class="math inline"><em>A</em></span>ã€‚</li><li><strong>GRPO çš„é€»è¾‘</strong>ï¼šActor å¯¹åŒä¸€ä¸ªé—®é¢˜ç”Ÿæˆ <span class="math inline"><em>G</em></span> ä¸ªä¸åŒçš„å›ç­”ã€‚ä¸éœ€è¦ Critic æ¥é¢„æµ‹åˆ†æ•°ï¼Œè€Œæ˜¯ç›´æ¥ç®—å‡ºè¿™ <span class="math inline"><em>G</em></span> ä¸ªå›ç­”çš„<strong>å¹³å‡åˆ†</strong>ã€‚<ul><li>è€ƒå¾—æ¯”å¹³å‡åˆ†é«˜çš„ï¼Œä¼˜åŠ¿ <span class="math inline"><em>A</em></span> ä¸ºæ­£ï¼ˆé¼“åŠ±ï¼‰ã€‚</li><li>è€ƒå¾—æ¯”å¹³å‡åˆ†ä½çš„ï¼Œä¼˜åŠ¿ <span class="math inline"><em>A</em></span> ä¸ºè´Ÿï¼ˆæŠ‘åˆ¶ï¼‰ã€‚</li><li><strong>Baseline</strong> ä¸å†æ˜¯ç¥ç»ç½‘ç»œé¢„æµ‹çš„ï¼Œè€Œæ˜¯<strong>ç¾¤ä½“å†…çš„å¹³å‡æ°´å¹³</strong>ã€‚</li></ul></li></ul><hr><h2 id="grpoç®—æ³•æµç¨‹">ğŸš€ GRPOç®—æ³•æµç¨‹</h2><p>GRPOä¼šåœ¨æ¯ä¸ªçŠ¶æ€ä¸‹é‡‡æ ·ä¸€ç»„åŠ¨ä½œï¼Œç„¶åæ ¹æ®è¿™äº›åŠ¨ä½œçš„ç›¸å¯¹è¡¨ç°æ¥è°ƒæ•´ç­–ç•¥ï¼Œè€Œä¸æ˜¯ä¾èµ–ä¸€ä¸ªå•ç‹¬çš„ä»·å€¼ç½‘ç»œæ¥ä¼°è®¡æ¯ä¸ªåŠ¨ä½œçš„ä»·å€¼ã€‚</p><figure><img src="/images/rl/grpo.webp" srcset="/img/loading.gif" lazyload alt="GRPOç®—æ³•æµç¨‹"><figcaption aria-hidden="true">GRPOç®—æ³•æµç¨‹</figcaption></figure><h3 id="ç»„å†…å¥–åŠ±å»ºæ¨¡">ç»„å†…å¥–åŠ±å»ºæ¨¡</h3><p>åœ¨ GRPO ä¸­ï¼Œå¥–åŠ±çš„è®¡ç®—ä¸å†ä¾èµ–è®­ç»ƒä¸­çš„ Criticï¼Œè€Œæ˜¯ç›´æ¥åŸºäºç¯å¢ƒæˆ–è§„åˆ™åé¦ˆã€‚ å‡è®¾å¯¹äºä¸€ä¸ªè¾“å…¥é—®é¢˜ <span class="math inline"><em>q</em></span>ï¼Œç­–ç•¥æ¨¡å‹ <span class="math inline"><em>Ï€</em><sub><em>Î¸</em></sub></span> é‡‡æ ·äº†ä¸€ç»„è¾“å‡º <span class="math inline">{<em>o</em><sub>1</sub>,â€†<em>o</em><sub>2</sub>,â€†...,â€†<em>o</em><sub><em>G</em></sub>}</span>ã€‚</p><p>æˆ‘ä»¬å¯¹æ¯ä¸€ä¸ªè¾“å‡º <span class="math inline"><em>o</em><sub><em>i</em></sub></span> è®¡ç®—å¥–åŠ± <span class="math inline"><em>r</em><sub><em>i</em></sub></span>ã€‚è¿™ä¸ªå¥–åŠ±å¯ä»¥æ˜¯ï¼š</p><ul><li><strong>ç¡¬è§„åˆ™</strong>ï¼šæ•°å­¦é¢˜åšå¯¹äº†å¾— 1 åˆ†ï¼Œåšé”™äº†å¾— 0 åˆ†ã€‚</li><li><strong>è½¯è§„åˆ™</strong>ï¼šä»£ç é€šè¿‡äº†æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹å¾— 1 åˆ†ï¼Œé€šè¿‡ä¸€åŠå¾— 0.5 åˆ†ï¼Œæ ¼å¼é”™è¯¯å¾— -1 åˆ†ã€‚</li><li><strong>å¤–éƒ¨æ¨¡å‹</strong>ï¼šä½¿ç”¨ä¸€ä¸ªå†»ç»“çš„ Reward Model æ‰“åˆ†ã€‚</li></ul><h3 id="ä¼˜åŒ–ç›®æ ‡">ä¼˜åŒ–ç›®æ ‡</h3><p>GRPO çš„æ ¸å¿ƒåœ¨äºå¦‚ä½•è®¡ç®—<strong>ä¼˜åŠ¿å‡½æ•° (Advantage)</strong>ã€‚ å®ƒä½¿ç”¨ç»„å†…æ ‡å‡†åŒ–çš„æ–¹å¼æ¥è®¡ç®—ä¼˜åŠ¿ <span class="math inline"><em>A</em><sub><em>i</em></sub></span>ï¼š</p><p><span class="math display">$$ A_i = \frac{r_i - \text{Mean}(\{r_1, ..., r_G\})}{\text{Std}(\{r_1, ..., r_G\}) + \epsilon} $$</span></p><ul><li><strong>Mean</strong>ï¼šç»„å†…å¥–åŠ±çš„å¹³å‡å€¼ï¼ˆå……å½“äº† Baselineï¼‰ã€‚</li><li><strong>Std</strong>ï¼šç»„å†…å¥–åŠ±çš„æ ‡å‡†å·®ï¼ˆç”¨äºå½’ä¸€åŒ–ï¼Œç¨³å®šæ•°å€¼ï¼‰ã€‚</li></ul><p>æœ€ç»ˆçš„ä¼˜åŒ–ç›®æ ‡å‡½æ•°ä¸ PPO ç±»ä¼¼ï¼ŒåŒ…å« Clip æœºåˆ¶å’Œ KL æ•£åº¦æƒ©ç½šï¼š</p><p><span class="math display">$$ J_{GRPO}(\theta) = \mathbb{E} \left[ \frac{1}{G} \sum_{i=1}^G \left( \min \left( \frac{\pi_\theta(o_i|q)}{\pi_{\theta_{old}}(o_i|q)} A_i, \text{clip}(\dots) A_i \right) - \beta D_{KL}(\pi_\theta || \pi_{ref}) \right) \right] $$</span></p><h3 id="grpoç®—æ³•å®ç°æµç¨‹">GRPOç®—æ³•å®ç°æµç¨‹</h3><p>ä¸ PPO å¤æ‚çš„ GAE è®¡ç®—ä¸åŒï¼ŒGRPO çš„å®ç°æµç¨‹æ›´åŠ ç›´è§‚å’Œå¹¶è¡ŒåŒ–ï¼š</p><ul><li><strong>è¾“å…¥é‡‡æ · (Prompt Sampling)</strong><ul><li>ä»æ•°æ®é›†é‡‡æ ·ä¸€æ‰¹é—®é¢˜ï¼ˆPromptsï¼‰ï¼Œä¾‹å¦‚ <span class="math inline"><em>B</em></span> ä¸ªé—®é¢˜ã€‚</li></ul></li><li><strong>ç¾¤ä½“ç”Ÿæˆ (Group Generation)</strong><ul><li>å¯¹äºæ¯ä¸€ä¸ªé—®é¢˜ <span class="math inline"><em>q</em></span>ï¼Œè®©æ—§ç­–ç•¥æ¨¡å‹ <span class="math inline"><em>Ï€</em><sub><em>o</em><em>l</em><em>d</em></sub></span> é‡‡æ ·ç”Ÿæˆ <span class="math inline"><em>G</em></span> ä¸ªä¸åŒçš„å›ç­” <span class="math inline">{<em>o</em><sub>1</sub>,â€†...,â€†<em>o</em><sub><em>G</em></sub>}</span>ã€‚</li><li>æ€»å…±ç”Ÿæˆ <span class="math inline"><em>B</em>â€…Ã—â€…<em>G</em></span> æ¡æ•°æ®ã€‚</li></ul></li><li><strong>å¥–åŠ±è¯„ä¼° (Reward Evaluation)</strong><ul><li>ä½¿ç”¨å¥–åŠ±å‡½æ•°/è§„åˆ™å¯¹è¿™ <span class="math inline"><em>B</em>â€…Ã—â€…<em>G</em></span> ä¸ªå›ç­”è¿›è¡Œæ‰“åˆ†ï¼Œå¾—åˆ°å¥–åŠ±å€¼ <span class="math inline">{<em>r</em><sub>1</sub>,â€†...,â€†<em>r</em><sub><em>G</em></sub>}</span>ã€‚</li></ul></li><li><strong>ä¼˜åŠ¿è®¡ç®— (Advantage Calculation)</strong><ul><li><strong>å…³é”®æ­¥éª¤</strong>ï¼šåœ¨æ¯ä¸ªç»„å†…éƒ¨ï¼Œè®¡ç®—å¥–åŠ±çš„å‡å€¼å’Œæ–¹å·®ã€‚</li><li>ä½¿ç”¨å…¬å¼ <span class="math inline"><em>A</em><sub><em>i</em></sub>â€„=â€„(<em>r</em><sub><em>i</em></sub>â€…âˆ’â€…<em>M</em><em>e</em><em>a</em><em>n</em>)/<em>S</em><em>t</em><em>d</em></span> å¾—åˆ°æ¯ä¸ªæ ·æœ¬çš„ç›¸å¯¹ä¼˜åŠ¿ã€‚</li></ul></li><li><strong>ç­–ç•¥æ›´æ–° (Policy Update)</strong><ul><li>å°†è®¡ç®—å‡ºçš„ä¼˜åŠ¿ <span class="math inline"><em>A</em><sub><em>i</em></sub></span> ä»£å…¥ PPO-Clip çš„æŸå¤±å‡½æ•°ä¸­ã€‚</li><li>ä¹Ÿå°±æ˜¯ï¼šä¼˜åŠ¿å¤§çš„æ ·æœ¬ï¼Œæé«˜å…¶ç”Ÿæˆæ¦‚ç‡ï¼›ä¼˜åŠ¿å°çš„æ ·æœ¬ï¼Œé™ä½å…¶ç”Ÿæˆæ¦‚ç‡ã€‚</li><li>è®¡ç®— KL æ•£åº¦ï¼ˆé€šå¸¸é€šè¿‡ <span class="math inline"><em>Ï€</em><sub><em>Î¸</em></sub></span> å’Œ <span class="math inline"><em>Ï€</em><sub><em>r</em><em>e</em><em>f</em></sub></span> çš„ log æ¦‚ç‡å·®è¿‘ä¼¼ï¼‰ä½œä¸ºæ­£åˆ™é¡¹ã€‚</li><li>åå‘ä¼ æ’­æ›´æ–°ç­–ç•¥æ¨¡å‹ <span class="math inline"><em>Ï€</em><sub><em>Î¸</em></sub></span> çš„å‚æ•°ã€‚</li></ul></li></ul><hr><h2 id="grpoä¸ppo">ğŸ¯ GRPOä¸PPO</h2><h3 id="grpoä¸ppoåŒºåˆ«">GRPOä¸PPOåŒºåˆ«</h3><p>GRPO å¯ä»¥è¢«çœ‹ä½œæ˜¯ PPO çš„ä¸€ä¸ª<strong>ç‰¹åŒ–ä¸”é«˜æ•ˆçš„å˜ä½“</strong>ã€‚</p><table><thead><tr><th style="text-align:left">ç»´åº¦</th><th style="text-align:left">PPO (Proximal Policy Optimization)</th><th style="text-align:left">GRPO (Group Relative Policy Optimization)</th></tr></thead><tbody><tr><td style="text-align:left"><strong>æ¨¡å‹æ•°é‡</strong></td><td style="text-align:left"><strong>4 ä¸ª</strong> (Actor, Critic, Reward, Ref)<br>æ˜¾å­˜å ç”¨å·¨å¤§ã€‚</td><td style="text-align:left"><strong>2 ä¸ª</strong> (Actor, Ref)<br>æ˜¾å­˜å ç”¨æä½ï¼Œå»æ‰äº† Criticã€‚</td></tr><tr><td style="text-align:left"><strong>ä¼˜åŠ¿ä¼°è®¡</strong></td><td style="text-align:left"><strong>GAE (ä¾èµ– Critic)</strong><br>ä¾èµ– Critic ç½‘ç»œçš„é¢„æµ‹å€¼ <span class="math inline"><em>V</em>(<em>s</em>)</span> ä½œä¸ºåŸºçº¿ã€‚</td><td style="text-align:left"><strong>Group Normalization (æ—  Critic)</strong><br>ä¾èµ–åŒä¸€ç»„é‡‡æ ·çš„å¹³å‡åˆ†ä½œä¸ºåŸºçº¿ã€‚</td></tr><tr><td style="text-align:left"><strong>è®¡ç®—ç“¶é¢ˆ</strong></td><td style="text-align:left">æ¢¯åº¦æ›´æ–°æ—¶çš„æ˜¾å­˜å’Œè®¡ç®—é‡ã€‚</td><td style="text-align:left">é‡‡æ ·ç”Ÿæˆé˜¶æ®µçš„è€—æ—¶ï¼ˆéœ€è¦ç”Ÿæˆ <span class="math inline"><em>G</em></span> æ¬¡ï¼‰ã€‚</td></tr><tr><td style="text-align:left"><strong>é€‚ç”¨åœºæ™¯</strong></td><td style="text-align:left">é€šç”¨ RLï¼ˆæ¸¸æˆã€æœºå™¨äººã€å¯¹è¯ï¼‰ã€‚</td><td style="text-align:left">å¤§è¯­è¨€æ¨¡å‹æ¨ç†ï¼ˆMath, Codeï¼‰ï¼Œç‰¹åˆ«æ˜¯ DeepSeek-R1 è¿™ç±»åœºæ™¯ã€‚</td></tr></tbody></table><h3 id="grpoä¸dpoè”ç³»">GRPOä¸DPOè”ç³»</h3><p>è™½ç„¶ GRPO å’Œ DPO éƒ½å»æ‰äº† Criticï¼Œä½†å®ƒä»¬å¤„äº RL çš„ä¸åŒé˜¶æ®µã€‚</p><ul><li><strong>å…±åŒç‚¹</strong>ï¼š<ul><li><strong>å»ä¸­å¿ƒåŒ–</strong>ï¼šéƒ½è¯•å›¾ç§»é™¤ Value/Critic ç½‘ç»œï¼Œå‡è½»æ˜¾å­˜è´Ÿæ‹…ã€‚</li><li><strong>ç›¸å¯¹æ€§</strong>ï¼šDPO æ¯”è¾ƒ Pair (Winner vs Loser)ï¼ŒGRPO æ¯”è¾ƒ Group (Relative to Mean)ã€‚</li></ul></li><li><strong>ä¸åŒç‚¹</strong>ï¼š<ul><li><strong>æ•°æ®æ¥æº</strong>ï¼š<ul><li><strong>DPO (Offline)</strong>ï¼šä½¿ç”¨é¢„å…ˆæ”¶é›†å¥½çš„é™æ€åå¥½æ•°æ®é›†ã€‚æ¨¡å‹â€œçœ‹â€æ•°æ®å­¦ä¹ ã€‚</li><li><strong>GRPO (Online)</strong>ï¼šæ¨¡å‹å¿…é¡»è‡ªå·±å®æ—¶ç”Ÿæˆæ•°æ®ï¼ˆSelf-Generationï¼‰ï¼Œè‡ªå·±æ¢ç´¢å‡ºé«˜åˆ†ç­”æ¡ˆã€‚</li></ul></li><li><strong>ä¼˜åŒ–æœºåˆ¶</strong>ï¼š<ul><li><strong>DPO</strong>ï¼šæ˜¯åŸºäºåˆ†ç±»æ¦‚ç‡çš„æŸå¤±ï¼ˆImplicit Rewardï¼‰ã€‚</li><li><strong>GRPO</strong>ï¼šä¾ç„¶æ˜¯åŸºäºå¼ºåŒ–å­¦ä¹ çš„æ¢¯åº¦æ›´æ–°ï¼ˆExplicit Reward + PPO Clipï¼‰ã€‚</li></ul></li></ul></li></ul><p><strong>æ€»ç»“</strong>ï¼šå¦‚æœè¯´ PPO æ˜¯å…¨å‰¯æ­¦è£…çš„é‡è£…æ­¥å…µï¼ŒDPO æ˜¯çµæ´»çš„åˆºå®¢ï¼ˆç¦»çº¿å¾®è°ƒï¼‰ï¼Œé‚£ä¹ˆ GRPO å°±æ˜¯ä¸ºäº†å¤§å…µå›¢ä½œæˆ˜ï¼ˆè¶…å¤§æ¨¡å‹ï¼‰è€Œç”Ÿçš„ç‰¹ç§éƒ¨é˜Ÿâ€”â€”ç æ‰ä¸€åˆ‡ä¸å¿…è¦çš„è¾é‡ï¼ˆCriticï¼‰ï¼Œåªä¸ºäº†åœ¨æ¨ç†èƒ½åŠ›çš„æˆ˜åœºä¸Šå¿«é€Ÿè¿›åŒ–ã€‚</p></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/Paper/" class="category-chain-item">Paper</a> <span>></span> <a href="/categories/Paper/Reinforcement-Learning/" class="category-chain-item">Reinforcement Learning</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/Research/" class="print-no-link">#Research</a> <a href="/tags/Algorithm/" class="print-no-link">#Algorithm</a> <a href="/tags/GRPO/" class="print-no-link">#GRPO</a></div></div><div class="license-box my-3"><div class="license-title"><div>GRPOâ€”â€”ç»„ç›¸å¯¹ç­–ç•¥ä¼˜åŒ–ç®—æ³•</div><div>https://choucisan.xyz/GRPO.html</div></div><div class="license-meta"><div class="license-meta-item"><div>Author</div><div>choucisan</div></div><div class="license-meta-item license-meta-date"><div>Posted on</div><div>December 25, 2025</div></div><div class="license-meta-item"><div>Licensed under</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - Attribution"><i class="iconfont icon-cc-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"></article><article class="post-next col-6"><a href="/DPO.html" title="DPOâ€”â€”ç›´æ¥åå¥½ä¼˜åŒ–ç®—æ³•"><span class="hidden-mobile">DPOâ€”â€”ç›´æ¥åå¥½ä¼˜åŒ–ç®—æ³•</span> <span class="visible-mobile">Next</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="valine"></div><script type="text/javascript">Fluid.utils.loadComments("#valine",function(){Fluid.utils.createScript("https://lib.baomitu.com/valine/1.5.1/Valine.min.js",function(){var i=Object.assign({appId:"H13sJOhFUDSFRB5l6uGK3P1R-gzGzoHsz",appKey:"9PsUJ7XI7U3Pg3ixfxWfPD7B",path:"window.location.pathname",placeholder:"Say something / è¯´ç‚¹ä»€ä¹ˆå§~",avatar:"retro",meta:["nick","mail","link"],requiredFields:[],pageSize:10,lang:"en",highlight:!1,recordIP:!1,serverURLs:"",emojiCDN:null,emojiMaps:null,enableQQ:!1},{el:"#valine",path:window.location.pathname});new Valine(i),Fluid.utils.waitElementVisible("#valine .vcontent",()=>{var i="#valine .vcontent img:not(.vemoji)";Fluid.plugins.imageCaption(i),Fluid.plugins.fancyBox(i)})})})</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>Table of Contents</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a></main><footer><div class="footer-inner"><div class="footer-content">Â© 2025 13 Lab. All Rights Reserved.</div><div class="statistics"><span id="leancloud-site-pv-container" style="display:none">Views: <span id="leancloud-site-pv"></span> </span><span id="leancloud-site-uv-container" style="display:none">Visitors: <span id="leancloud-site-uv"></span></span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",function(){var t,o=jQuery("#toc");0!==o.length&&window.tocbot&&(t=jQuery("#board-ctn").offset().top,window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-t},CONFIG.toc)),0<o.find(".toc-list-item").length&&o.css("visibility","visible"),Fluid.events.registerRefreshCallback(function(){var t;"tocbot"in window&&(tocbot.refresh(),0!==(t=jQuery("#toc")).length)&&tocbot&&0<t.find(".toc-list-item").length&&t.css("visibility","visible")}))})</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js",function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n,o=[];for(n of(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","))o.push(".markdown-body > "+n.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback(function(){if("anchors"in window){anchors.removeAll();var n,o=[];for(n of(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","))o.push(".markdown-body > "+n.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}})})</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",function(){Fluid.plugins.fancyBox()})</script><script>Fluid.plugins.imageCaption()</script><script>window.MathJax?(MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset(),MathJax.typesetPromise()):window.MathJax={tex:{inlineMath:{"[+]":[["$","$"]]}},loader:{load:["ui/lazy"]},options:{renderActions:{insertedScript:[200,()=>{document.querySelectorAll("mjx-container").forEach(t=>{t=t.parentNode;"li"===t.nodeName.toLowerCase()&&t.parentNode.classList.add("has-jax")})},"",!1]}}},Fluid.events.registerRefreshCallback(function(){"MathJax"in window&&MathJax.startup.document&&"function"==typeof MathJax.startup.document.state&&(MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset(),MathJax.typesetPromise())})</script><script src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js"></script><script defer src="/js/leancloud.js"></script><script src="/js/custom-logic.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">Blog works best with JavaScript enabled</div></noscript><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>